package util;


import java.io.*;
import java.util.Properties;

/**
 * Created by saianudeepm on 11/26/14.
 */
public class PropertiesLoaderNew {

    Properties prop;

    public BufferedReader openResourceForReading(String file){
        try{
            InputStream inputStream = getClass().getClassLoader().getResourceAsStream(file);
            return new BufferedReader(new InputStreamReader(inputStream));
        }catch (Exception e){
            e.printStackTrace();
        }
        return null;
    }
    public Properties loadProperties(String propertiesFile){

        InputStream inputStream = getClass().getClassLoader().getResourceAsStream(propertiesFile);
        prop = new Properties();
        if (inputStream != null) {
            try {
                prop.load(inputStream);
                inputStream.close();
            }
            catch (FileNotFoundException e) {
                e.printStackTrace();
            }
            catch (IOException e) {
                e.printStackTrace();

            }catch (NullPointerException ne){
                ne.printStackTrace();
            }
        }
        else{
            throw new RuntimeException("property file '" + propertiesFile + "' not found in the classpath");
        }
        return prop;
    }
    public BufferedWriter openResourceForWriting(String file){
        try {
            FileOutputStream fs = new FileOutputStream(new File(System.getProperty("user.dir")+"/src/main/resources/"+file),true);
            BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fs));
            return bw;
        } catch (IOException e) {
            e.printStackTrace();
        }
        return null;
    }
}
